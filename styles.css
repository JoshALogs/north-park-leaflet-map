/* ===== Layout =========================================================
   Let the map fill the viewport. If embedded in an <iframe>, control
   the height on the iframe element instead.
====================================================================== */
html,
body {
  height: 100%;
  margin: 0;
}
#map {
  height: 100%;
  width: 100%;
}

/* ===== Map labels (Leaflet tooltip as an accessible pill) =============
   - Solid white background + dark text (WCAG text contrast).
   - Centered, supports multiline via \n (from CSV overrides).
   - Responsive type size for small screens.
====================================================================== */
.leaflet-tooltip.np-label-tooltip {
  /* Container */
  background: #ffffff;
  border: 1px solid rgba(0, 0, 0, 0.25);
  border-radius: 4px;
  padding: 2px 6px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);

  /* Text */
  color: #111111;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", Ubuntu, Cantarell,
    "Helvetica Neue", Arial, sans-serif;
  font-weight: 700;
  font-size: clamp(14px, 1.8vw, 18px); /* ~14â€“18px based on viewport */
  line-height: 1.2;
  letter-spacing: 0.2px;
  text-align: center;

  /* Behavior */
  white-space: pre-line; /* honor \n in labels for line breaks */
  max-width: none; /* avoid default Leaflet tooltip wrapping */
  pointer-events: none; /* presentational only */
  user-select: none; /* avoid selecting text while panning */
}

/* Prefer higher contrast if the user requests it */
@media (prefers-contrast: more) {
  .leaflet-tooltip.np-label-tooltip {
    border-color: rgba(0, 0, 0, 0.45);
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.9), 0 2px 4px rgba(0, 0, 0, 0.35);
  }
}

/* ===== Keyboard / Focus ==============================================
   Visible focus ring on the map container for keyboard users.
====================================================================== */
#map:focus {
  outline: 3px solid #111111;
  outline-offset: 2px;
}
